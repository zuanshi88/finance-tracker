
<%  @friends.empty? ? friend_heading = "My Friends -- No connections" : friend_heading = "My friends" %>

<h1><%= friend_heading %></h1>

<div class="search-area">
    <h3>Search Friends</h3>
    <%= form_tag search_friend_path, remote: true, method: :get do %>
        <div class="form-group row">
            <div class="col-sm-9 no-right-padding">
                <%= text_field_tag :friend, params[:friend], placeholder: "name or email", autofocus: true, class: "form-control form-control-lg" %>
            </div>
            <div class="col-sm-3 no-left-padding">
                <%= button_tag type: :submit, class: "btn btn-success" do %>
                    <%= fa_icon 'search 2x' %>
                <% end %>
            </div>
        </div>
    <% end %>
</div>

<div id="friend_results">
    
</div>

<% unless @friends.empty?%>
<%# here we can have the same path to create/add a friend as to delete one. %>
<div class="row mt-2">
    <div class="col-9">
        <table class="table table-bordered table-hover">
        <thead>
            <tr>
            <th scope="col">Number</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Email</th>
            </tr>
        </thead>
        <tbody class="table-group-divider">
        <% @friends.each do |friend| %>
            <tr>
                <th scope="row"><%= @friends.index(friend) + 1 %> </th>
                    <td><%= friend.first_name %> </td>
                    <td><%= friend.last_name %> </td>
                    <td><%=  friend.email %></td>
                    <td> <%= link_to 'unfollow friend', 'remove_friend_path', data: {confirm: 'are you sure?'}, class: 'btn btn-sm btn-warning' %></td>
                </tr>
            <% end %>
        </tbody>
        </table>
        </div>
    </div>
<% end %>